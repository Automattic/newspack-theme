@import '../variables-site/variables-site';
@import '../mixins/mixins-master';

.newspack_global_ad {
	display: flex;
	justify-content: center;
	align-items: center;

	> * {
		margin-top: $size__spacing-unit;
		margin-bottom: $size__spacing-unit;
	}

	&.global_above_header {
		background-color: $color__background-pre;
	}

	&.sticky {
		background-color: $color__background-body;
		box-shadow: 0 0 5px 0 rgba( 0, 0, 0, 0.2 );
		bottom: 0;
		display: none;
		position: fixed;
		width: 100%;
		z-index: 1;

		&.active {
			display: flex;
		}

		button {
			align-items: center;
			background-color: $color__background-body;
			border-radius: 0.75rem 0 0 0;
			box-shadow: 0 -1px 1px 0 rgba( 0, 0, 0, 0.2 );
			color: $color__text-main;
			display: flex;
			font-size: 1.25rem;
			height: 1.75rem;
			justify-content: center;
			padding: 0;
			position: absolute;
			right: 0;
			top: -1.75rem;
			width: 1.75rem;

			&::before {
				content: '×';
			}
		}

		> * {
			margin: 0;
			max-height: 100px;
		}
	}
}

.newspack_amp_sticky_ad {
	&__container {
		@include media( mobile ) {
			display: none;
		}
	}

	* {
		margin: auto;
	}

	.amp-sticky-ad-top-padding {
		display: none;
	}

	button,
	.amp-sticky-ad-close-button {
		background-color: $color__background-body;
		background-image: none;
		color: $color__text-main;
		font-size: 1.25rem;

		&::before {
			content: '×';
			bottom: 0;
			left: 0;
			right: 0;
			top: 0;
		}

		&:focus,
		&:hover {
			background-color: inherit;
		}
	}
}

body {
	// Reduce space on top of the content a bit when there's an ad below the header.
	&:not( .newspack-front-page ) .newspack_global_ad.global_below_header + .site-content {
		margin-top: #{1.5 * $size__spacing-unit};
	}
}

// The Subpage header + special featured image placements also can't really support an ad in this spot.
.h-sub {
	&.single-featured-image-beside,
	&.single-featured-image-behind {
		.global_below_header {
			display: none;
		}

		&:not( .newspack-front-page ):not( .style-pack-style-2 ) .global_below_header + .site-content {
			margin-top: 0;
		}
	}
}
